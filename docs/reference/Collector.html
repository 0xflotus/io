<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
		<html>
		<head>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
		<title>Io Reference Manual</title>
		<META HTTP-EQUIV="EXPIRES" CONTENT=0>
		<link rel="stylesheet" href="../docs.css">
		</head>
		<body>
		
<br><br><br>
<table cellspacing=4 style="width:45em; line-height:1.2em;">
<tr>
<td>
<a name=Collector></a><span class=protoName>Collector</span>
</td>
<td></td>
<td>
</tr>
<tr>
<td align=right><b><span class=protoModule>module</span></b></td>
<td></td>
<td>Core</td></tr>
<tr>
<td align=right><b><span class=protoCategory>category</span></b></td>
<td></td>
<td>Core
</td></tr>
<tr>
<td align=right><b><span class=protoDescription>description</span></b></td>
<td></td>
<td>A singleton containing methods related to Io's garbage collector. 
Io currently uses a incremental, non-moving, generational 
collector based on the tri-color (black/gray/white) 
algorithm with a write-barrier.
<p>
Every N number of object allocs, the collector will walk 
some of the objects marked as gray, marking their connected 
white objects as gray and turning themselves black. 
Every M allocs, it will pause for a sweep where it makes sure 
all grays are marked black and io_frees all whites.
<p>
If the sweepsPerGeneration is set to zero, it will immediately mark 
all blacks as white again and mark the root objects as gray. Otherwise, 
it will wait until the sweepsPerGeneration count is reached to do this. 
By adjusting the allocsPerSweep and sweepsPerGeneration appropriately, the 
collector can be tuned efficiently for various usage cases. 

Generally, the more objects in your heap, the larger you'll want this number.
</td></tr>
<tr><td colspan=2>&nbsp;</td></tr>
<tr>
<td align=right>
<h3>index</h3>
</td>
<td></td>
<td>
<a href="#Collector-allObjects">
allObjects
</a><br>
<a href="#Collector-allocatedStep">
allocatedStep
</a><br>
<a href="#Collector-allocsPerSweep">
allocsPerSweep
</a><br>
<a href="#Collector-check">
check
</a><br>
<a href="#Collector-checkMemory">
checkMemory
</a><br>
<a href="#Collector-checkObjectPointers">
checkObjectPointers
</a><br>
<a href="#Collector-cleanAllObjects">
cleanAllObjects
</a><br>
<a href="#Collector-collect">
collect
</a><br>
<a href="#Collector-dirtyObjects">
dirtyObjects
</a><br>
<a href="#Collector-marksPerAlloc">
marksPerAlloc
</a><br>
<a href="#Collector-maxAllocatedBytes">
maxAllocatedBytes
</a><br>
<a href="#Collector-objectWithUniqueId">
objectWithUniqueId()
</a><br>
<a href="#Collector-reset">
reset
</a><br>
<a href="#Collector-resetMaxAllocatedBytes">
resetMaxAllocatedBytes
</a><br>
<a href="#Collector-setAllocatedStep">
setAllocatedStep()
</a><br>
<a href="#Collector-setAllocsPerSweep">
setAllocsPerSweep
</a><br>
<a href="#Collector-setDebug">
setDebug()
</a><br>
<a href="#Collector-setMarksPerAlloc">
setMarksPerAlloc()
</a><br>
<a href="#Collector-setSafeModeOn">
setSafeModeOn
</a><br>
<a href="#Collector-showStats">
showStats
</a><br>
<a href="#Collector-timeUsed">
timeUsed
</a><br>
<a href="#Collector-timedObjects">
timedObjects
</a><br>
</td>
</tr>
<tr><td colspan=2>&nbsp;</td></tr>
<tr>
<td align=right>
<h3>slots</h3>
</td>
<td></td>
<td>
<a name="Collector-allObjects"></a><b>
allObjects
</b>
<p>
<div class=slotDescription>
Returns a List containing all objects known to the collector.
</div>
<a name="Collector-allocatedStep"></a><b>
allocatedStep
</b>
<p>
<div class=slotDescription>
Return the allocation step value as a Number.
</div>
<a name="Collector-allocsPerSweep"></a><b>
allocsPerSweep
</b>
<p>
<div class=slotDescription>
<div class=error>undocumented</div>
</div>
<a name="Collector-check"></a><b>
check
</b>
<p>
<div class=slotDescription>
<div class=error>undocumented</div>
</div>
<a name="Collector-checkMemory"></a><b>
checkMemory
</b>
<p>
<div class=slotDescription>
<div class=error>undocumented</div>
</div>
<a name="Collector-checkObjectPointers"></a><b>
checkObjectPointers
</b>
<p>
<div class=slotDescription>
<div class=error>undocumented</div>
</div>
<a name="Collector-cleanAllObjects"></a><b>
cleanAllObjects
</b>
<p>
<div class=slotDescription>
Sets all objects as clean. Returns self.
</div>
<a name="Collector-collect"></a><b>
collect
</b>
<p>
<div class=slotDescription>
Runs garbage collector. Returns the number of items collected.
</div>
<a name="Collector-dirtyObjects"></a><b>
dirtyObjects
</b>
<p>
<div class=slotDescription>
Returns a List containing all dirty objects known to the collector.
</div>
<a name="Collector-marksPerAlloc"></a><b>
marksPerAlloc
</b>
<p>
<div class=slotDescription>
Return the number of allocations per collector mark pass.
</div>
<a name="Collector-maxAllocatedBytes"></a><b>
maxAllocatedBytes
</b>
<p>
<div class=slotDescription>
Returns the maximum number of bytes allocated by the collector.
</div>
<a name="Collector-objectWithUniqueId"></a><b>
objectWithUniqueId(aNumber)
</b>
<p>
<div class=slotDescription>
Returns an object whose uniqueId is aNumber or nil if no match is found. 
	Warning: This lookup currently scans all objects, so it is not efficient, 
	though it should handle thousands of lookups per second.
</div>
<a name="Collector-reset"></a><b>
reset
</b>
<p>
<div class=slotDescription>
Resets the profilerTime on all Block objects in the system.
</div>
<a name="Collector-resetMaxAllocatedBytes"></a><b>
resetMaxAllocatedBytes
</b>
<p>
<div class=slotDescription>
Resets maximum number of bytes allocated by the collector. Returns self.
</div>
<a name="Collector-setAllocatedStep"></a><b>
setAllocatedStep(aNumber)
</b>
<p>
<div class=slotDescription>
Sets the allocatedStep (can have a fractional component, 
	but must be larger than 1). A collector sweep is forced when the 
	number of allocated objects exceeds the allocatedSweepLevel. 
	After a sweep, the allocatedSweepLevel is set to the allocated 
	object count times the allocatedStep. Returns self.
</div>
<a name="Collector-setAllocsPerSweep"></a><b>
setAllocsPerSweep
</b>
<p>
<div class=slotDescription>
<div class=error>undocumented</div>
</div>
<a name="Collector-setDebug"></a><b>
setDebug(aBool)
</b>
<p>
<div class=slotDescription>
Turns on/off printing of collector debugging messages. Returns self.
</div>
<a name="Collector-setMarksPerAlloc"></a><b>
setMarksPerAlloc(aNumber)
</b>
<p>
<div class=slotDescription>
Sets the number of incremental collector marks per object 
	allocation (can be fractional). Returns self.
</div>
<a name="Collector-setSafeModeOn"></a><b>
setSafeModeOn
</b>
<p>
<div class=slotDescription>
<div class=error>undocumented</div>
</div>
<a name="Collector-showStats"></a><b>
showStats
</b>
<p>
<div class=slotDescription>
Prints the collector's stats to standard output.
</div>
<a name="Collector-timeUsed"></a><b>
timeUsed
</b>
<p>
<div class=slotDescription>
Return the time used so far by the collector in seconds.
</div>
<a name="Collector-timedObjects"></a><b>
timedObjects
</b>
<p>
<div class=slotDescription>
Returns a list of objects found in the system that have profile times.
</div>
</td>
</tr>
</table>
<br><br><br><br><br>
